import { html } from "lit";
import { Meta, Story, Canvas } from "@storybook/addon-docs";
import { ExternalFields } from "./external_fields";

<Meta title="Components/ExternalFields" />

export const Default = () => {
  const fields = [
    { key: "Disbursement Fee", value: 12_00 },
    { key: "Origination Date", value: "6/14/2020" },
    { key: "Origination Fee", value: 54_38 },
    { key: "Discount Amount", value: 939_00 },
    { key: "Discount Date", value: "2020-08-03T09:10:14+00:00" },
    { key: "Loan Amount", value: 1000_00 },
  ];
  const format = {
    "Disbursement Fee": "centsToDollars",
    "Origination Fee": "centsToDollars",
    "Discount Amount": "centsToDollars",
    "Discount Date": "M/d/yy",
    "Loan Amount": "centsToDollars",
  };
  return html`
    <cui-external-fields fields=${JSON.stringify(fields)} format=${JSON.stringify(format)} style="width: 300px">
    </cui-external-fields>
  `;
};

# ExternalFields (`cui-external-fields`)

List of key-value fields with formatting support. The key is used as the row's label and can be anything you want it to be.

## Example

<br />

### JavaScript

```html
<div id="external-fields-container"></div>

<script>
  const externalFieldsEl = document.createElement("cui-external-fields");
  const fields = [
    { key: "Disbursement Fee", value: 12_00 },
    { key: "Origination Date", value: "6/14/2020" },
    { key: "Origination Fee", value: 54_38 },
    { key: "Discount Amount", value: 939_00 },
    { key: "Discount Date", value: "2020-08-03T09:10:14+00:00" },
    { key: "Loan Amount", value: 1000_00 },
  ];
  const format = {
    "Disbursement Fee": "centsToDollars",
    "Origination Fee": "centsToDollars",
    "Discount Amount": "centsToDollars",
    "Discount Date": "m/d/yy",
    "Loan Amount": "centsToDollars",
  };
  externalFieldsEl.setAttribute("fields", JSON.stringify(fields));
  externalFieldsEl.setAttribute("format", JSON.stringify(format));
  document.getElementById("external-fields-container").appendChild(externalFieldsEl);
</script>
```

<Canvas>
  <Story name="Default">{Default.bind({})}</Story>
</Canvas>

## API

### Attributes/Properties

| property       | type                         | default |
| -------------- | ---------------------------- | ------- |
| fields[].key   | string                       |         |
| fields[].value | number, string               |         |
| format [key]   | string                       |         |
| format [value] | "centsToDollars", "m/d/yyyy" |         |

### Events

_None_

### CSS Custom Properties

| property                           |
| ---------------------------------- |
| --cui-li-even-row-background-color |

This component consists of CanopyUI's [Card](/docs/elements-card--default) and [List Item](/docs/elements-list-item--default) elements. To customize the css variables for these elements, see `--cui-card-` and `--cui-li-` prefixed variables in the variables.css file.
